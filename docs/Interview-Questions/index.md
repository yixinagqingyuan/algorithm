# é‡ç‚¹è‹±è¯­å•è¯å¤ç›˜

templateã€ foreachã€  pop å°¾éƒ¨åˆ é™¤åˆ é™¤  push æ’å…¥ä¸€ä¸ª   unshift å¤´éƒ¨æ’å…¥ä¸€ä¸ª  shift åˆ é™¤ä¸€ä¸ªå¤´éƒ¨ 




# çœŸé¢˜ ä¸€Vue ç»„ä»¶è®¾è®¡çš„çªé—¨

è®¾è®¡ä¼˜ç§€çš„ Vue ç»„ä»¶éœ€è¦è€ƒè™‘å¤šä¸ªæ–¹é¢ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„çªé—¨å’Œæœ€ä½³å®è·µï¼š

## 1. ç»„ä»¶èŒè´£å•ä¸€åŒ–
- **å•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½æˆ–ä¸šåŠ¡é€»è¾‘
- **å¯å¤ç”¨æ€§**ï¼šè®¾è®¡æ—¶è€ƒè™‘ç»„ä»¶åœ¨ä¸åŒåœºæ™¯ä¸‹çš„å¤ç”¨å¯èƒ½
- **ç²’åº¦é€‚ä¸­**ï¼šé¿å…ç»„ä»¶è¿‡å¤§æˆ–è¿‡å°ï¼Œä¿æŒåˆç†çš„å¤æ‚åº¦

## 2. Props è®¾è®¡
- **æ˜ç¡®çš„ Props å®šä¹‰**ï¼šä½¿ç”¨ `type`ã€`default`ã€`required`ã€`validator` ç­‰å±æ€§
- **Props å‘½åè§„èŒƒ**ï¼šä½¿ç”¨ camelCaseï¼Œè¯­ä¹‰æ¸…æ™°
- **é¿å…ç›´æ¥ä¿®æ”¹ Props**ï¼šProps åº”è¯¥æ˜¯åªè¯»çš„ï¼Œé€šè¿‡äº‹ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’å˜åŒ–

```javascript
props: {
  title: {
    type: String,
    required: true
  },
  size: {
    type: String,
    default: 'medium',
    validator: value => ['small', 'medium', 'large'].includes(value)
  }
}
```

## 3. äº‹ä»¶è®¾è®¡
- **è¯­ä¹‰åŒ–äº‹ä»¶å**ï¼šä½¿ç”¨æ¸…æ™°çš„åŠ¨è¯ï¼Œå¦‚ `@click`ã€`@change`ã€`@submit`
- **äº‹ä»¶å‚æ•°è§„èŒƒ**ï¼šä¼ é€’å¿…è¦çš„æ•°æ®ï¼Œé¿å…ä¼ é€’æ•´ä¸ªå¯¹è±¡
- **è‡ªå®šä¹‰äº‹ä»¶**ï¼šä½¿ç”¨ `$emit` å‘çˆ¶ç»„ä»¶é€šä¿¡

## 4. æ’æ§½ (Slots) çš„åˆç†ä½¿ç”¨
- **å…·åæ’æ§½**ï¼šä¸ºä¸åŒåŒºåŸŸæä¾›çµæ´»çš„å†…å®¹å®šåˆ¶
- **ä½œç”¨åŸŸæ’æ§½**ï¼šå‘çˆ¶ç»„ä»¶æš´éœ²å­ç»„ä»¶çš„æ•°æ®
- **é»˜è®¤å†…å®¹**ï¼šä¸ºæ’æ§½æä¾›åˆç†çš„é»˜è®¤å†…å®¹

```vue
<template>
  <div class="card">
    <header>
      <slot name="header">é»˜è®¤æ ‡é¢˜</slot>
    </header>
    <main>
      <slot :data="internalData"></slot>
    </main>
  </div>
</template>
```

## 5. æ ·å¼è®¾è®¡
- **Scoped CSS**ï¼šä½¿ç”¨ `<style scoped>` é¿å…æ ·å¼æ±¡æŸ“
- **CSS Modules**ï¼šæ›´ä¸¥æ ¼çš„æ ·å¼éš”ç¦»
- **CSS å˜é‡**ï¼šæä¾›ä¸»é¢˜å®šåˆ¶èƒ½åŠ›
- **BEM å‘½åè§„èŒƒ**ï¼šä¿æŒæ ·å¼ç±»åçš„ä¸€è‡´æ€§

## 6. ç»„ä»¶é€šä¿¡
- **çˆ¶å­é€šä¿¡**ï¼šProps down, Events up
- **å…„å¼Ÿç»„ä»¶**ï¼šé€šè¿‡å…±åŒçˆ¶ç»„ä»¶æˆ–äº‹ä»¶æ€»çº¿
- **è·¨å±‚çº§é€šä¿¡**ï¼šä½¿ç”¨ `provide/inject` æˆ– Vuex
- **é¿å…æ·±å±‚åµŒå¥—ä¼ é€’**ï¼šè¶…è¿‡ 2-3 å±‚è€ƒè™‘çŠ¶æ€ç®¡ç†

## 7. ç”Ÿå‘½å‘¨æœŸä¼˜åŒ–
- **åˆç†ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­**ï¼šåœ¨æ­£ç¡®çš„æ—¶æœºæ‰§è¡Œæ“ä½œ
- **æ¸…ç†å‰¯ä½œç”¨**ï¼šåœ¨ `beforeDestroy` ä¸­æ¸…ç†å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨
- **å¼‚æ­¥æ“ä½œå¤„ç†**ï¼šé¿å…åœ¨å·²é”€æ¯ç»„ä»¶ä¸­æ‰§è¡Œå›è°ƒ

## 8. æ€§èƒ½ä¼˜åŒ–
- **è®¡ç®—å±æ€§**ï¼šä½¿ç”¨ `computed` ç¼“å­˜å¤æ‚è®¡ç®—
- **æ¡ä»¶æ¸²æŸ“**ï¼šåˆç†ä½¿ç”¨ `v-if` å’Œ `v-show`
- **åˆ—è¡¨æ¸²æŸ“**ï¼šä¸º `v-for` æä¾›å”¯ä¸€çš„ `key`
- **ç»„ä»¶æ‡’åŠ è½½**ï¼šå¤§å‹ç»„ä»¶ä½¿ç”¨åŠ¨æ€å¯¼å…¥

## 9. å¯è®¿é—®æ€§ (A11y)
- **è¯­ä¹‰åŒ–æ ‡ç­¾**ï¼šä½¿ç”¨æ­£ç¡®çš„ HTML æ ‡ç­¾
- **ARIA å±æ€§**ï¼šä¸ºå±å¹•é˜…è¯»å™¨æä¾›ä¿¡æ¯
- **é”®ç›˜å¯¼èˆª**ï¼šæ”¯æŒ Tab é”®å’Œæ–¹å‘é”®æ“ä½œ
- **ç„¦ç‚¹ç®¡ç†**ï¼šåˆç†çš„ç„¦ç‚¹é¡ºåºå’Œè§†è§‰åé¦ˆ

## 10. æ–‡æ¡£å’Œæµ‹è¯•
- **ç»„ä»¶æ–‡æ¡£**ï¼šæ¸…æ™°çš„ API è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹
- **PropTypes æ³¨é‡Š**ï¼šè¯¦ç»†çš„å‚æ•°è¯´æ˜
- **å•å…ƒæµ‹è¯•**ï¼šè¦†ç›–ä¸»è¦åŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ
- **Storybook**ï¼šç»„ä»¶å±•ç¤ºå’Œäº¤äº’æµ‹è¯•

## 11. ç»„ä»¶ç»„ç»‡ç»“æ„
```
components/
â”œâ”€â”€ BaseButton/
â”‚   â”œâ”€â”€ index.vue
â”‚   â”œâ”€â”€ BaseButton.vue
â”‚   â”œâ”€â”€ BaseButton.test.js
â”‚   â””â”€â”€ README.md
â””â”€â”€ UserCard/
    â”œâ”€â”€ index.vue
    â”œâ”€â”€ UserCard.vue
    â”œâ”€â”€ UserAvatar.vue
    â””â”€â”€ UserInfo.vue
```

## 12. è®¾è®¡ç³»ç»Ÿæ€ç»´
- **åŸå­åŒ–è®¾è®¡**ï¼šåŸºç¡€ç»„ä»¶ â†’ å¤åˆç»„ä»¶ â†’ é¡µé¢æ¨¡æ¿
- **ä¸€è‡´æ€§**ï¼šç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼
- **å¯æ‰©å±•æ€§**ï¼šè€ƒè™‘æœªæ¥åŠŸèƒ½æ‰©å±•çš„å¯èƒ½æ€§
- **ä¸»é¢˜ç³»ç»Ÿ**ï¼šæ”¯æŒå¤šä¸»é¢˜åˆ‡æ¢

éµå¾ªè¿™äº›çªé—¨å¯ä»¥å¸®åŠ©ä½ è®¾è®¡å‡ºæ›´åŠ å¥å£®ã€å¯ç»´æŠ¤å’Œç”¨æˆ·å‹å¥½çš„ Vue ç»„ä»¶ã€‚è®°ä½ï¼Œå¥½çš„ç»„ä»¶è®¾è®¡æ˜¯ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹ï¼Œéœ€è¦åœ¨å®è·µä¸­ä¸æ–­ä¼˜åŒ–å’Œæ”¹è¿›ã€‚
        
          
# çœŸé¢˜äºŒ Vue 2 ä¸ Vue 3 çš„ä¸»è¦åŒºåˆ«

## ğŸš€ æ€§èƒ½æå‡

### 1. å“åº”å¼ç³»ç»Ÿé‡å†™
- **Vue 2**: ä½¿ç”¨ `Object.defineProperty()` å®ç°å“åº”å¼
- **Vue 3**: ä½¿ç”¨ `Proxy` é‡å†™å“åº”å¼ç³»ç»Ÿ
  - æ›´å¥½çš„æ€§èƒ½è¡¨ç°
  - æ”¯æŒæ•°ç»„ç´¢å¼•å’Œ length å±æ€§çš„ç›‘å¬
  - æ”¯æŒ Mapã€Setã€WeakMapã€WeakSet ç­‰æ•°æ®ç»“æ„
  - æ›´ç²¾ç¡®çš„ä¾èµ–æ”¶é›†

### 2. ç¼–è¯‘ä¼˜åŒ–
- **é™æ€æå‡**: é™æ€èŠ‚ç‚¹ä¼šè¢«æå‡åˆ°æ¸²æŸ“å‡½æ•°å¤–éƒ¨
- **è¡¥ä¸æ ‡è®°**: åŠ¨æ€èŠ‚ç‚¹ä¼šè¢«æ ‡è®°ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒ
- **æ ‘æ‘‡ä¼˜åŒ–**: æœªä½¿ç”¨çš„åŠŸèƒ½ä¼šè¢«ç§»é™¤
- **å†…è”ç»„ä»¶ props**: å‡å°‘ä¸å¿…è¦çš„ç»„ä»¶æ›´æ–°

### 3. åŒ…ä½“ç§¯ä¼˜åŒ–
- Vue 3 æ ¸å¿ƒåº“ä½“ç§¯å‡å°‘çº¦ 41%
- æ”¯æŒ Tree-shakingï¼ŒæŒ‰éœ€å¼•å…¥åŠŸèƒ½

## ğŸ”§ API å˜åŒ–

### 1. Composition API
```javascript
// Vue 2 - Options API
export default {
  data() {
    return {
      count: 0
    }
  },
  methods: {
    increment() {
      this.count++
    }
  }
}

// Vue 3 - Composition API
import { ref } from 'vue'
export default {
  setup() {
    const count = ref(0)
    const increment = () => {
      count.value++
    }
    return {
      count,
      increment
    }
  }
}
```

### 2. ç”Ÿå‘½å‘¨æœŸé’©å­å˜åŒ–
```javascript
// Vue 2
beforeCreate -> ä½¿ç”¨ setup()
created -> ä½¿ç”¨ setup()
beforeMount -> onBeforeMount
mounted -> onMounted
beforeUpdate -> onBeforeUpdate
updated -> onUpdated
beforeDestroy -> onBeforeUnmount
destroyed -> onUnmounted
```

### 3. å…¨å±€ API å˜åŒ–
```javascript
// Vue 2
import Vue from 'vue'
Vue.config.productionTip = false
Vue.use(VueRouter)
new Vue({
  render: h => h(App)
}).$mount('#app')

// Vue 3
import { createApp } from 'vue'
const app = createApp(App)
app.use(VueRouter)
app.mount('#app')
```

## ğŸ¯ æ–°ç‰¹æ€§

### 1. Fragmentï¼ˆç‰‡æ®µï¼‰
```vue
<!-- Vue 2 éœ€è¦æ ¹å…ƒç´  -->
<template>
  <div>
    <header>...</header>
    <main>...</main>
  </div>
</template>

<!-- Vue 3 æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹ -->
<template>
  <header>...</header>
  <main>...</main>
</template>
```

### 2. Teleportï¼ˆä¼ é€é—¨ï¼‰
```vue
<template>
  <div>
    <h3>ç»„ä»¶å†…å®¹</h3>
    <teleport to="body">
      <div class="modal">æ¨¡æ€æ¡†å†…å®¹</div>
    </teleport>
  </div>
</template>
```

### 3. Suspenseï¼ˆå¼‚æ­¥ç»„ä»¶ï¼‰
```vue
<template>
  <Suspense>
    <template #default>
      <AsyncComponent />
    </template>
    <template #fallback>
      <div>Loading...</div>
    </template>
  </Suspense>
</template>
```

### 4. å¤šä¸ª v-model
```vue
<!-- Vue 3 æ”¯æŒå¤šä¸ª v-model -->
<UserName
  v-model:first-name="firstName"
  v-model:last-name="lastName"
/>
```

## ğŸ”„ å“åº”å¼ API å¯¹æ¯”

### Vue 2 å“åº”å¼é™åˆ¶
```javascript
// æ— æ³•æ£€æµ‹æ•°ç»„ç´¢å¼•å˜åŒ–
this.items[0] = newValue // ä¸ä¼šè§¦å‘æ›´æ–°

// æ— æ³•æ£€æµ‹å¯¹è±¡å±æ€§æ·»åŠ /åˆ é™¤
this.obj.newProp = 'value' // ä¸ä¼šè§¦å‘æ›´æ–°

// éœ€è¦ä½¿ç”¨ Vue.set
Vue.set(this.items, 0, newValue)
Vue.set(this.obj, 'newProp', 'value')
```

### Vue 3 å“åº”å¼æ”¹è¿›
```javascript
// ç›´æ¥æ”¯æŒæ•°ç»„ç´¢å¼•å’Œå¯¹è±¡å±æ€§å˜åŒ–
state.items[0] = newValue // ä¼šè§¦å‘æ›´æ–°
state.obj.newProp = 'value' // ä¼šè§¦å‘æ›´æ–°
```

## ğŸ“¦ TypeScript æ”¯æŒ

### Vue 2
- éœ€è¦é¢å¤–é…ç½®
- ç±»å‹æ¨æ–­æœ‰é™
- éœ€è¦ä½¿ç”¨ vue-class-component

### Vue 3
- åŸç”Ÿ TypeScript æ”¯æŒ
- æ›´å¥½çš„ç±»å‹æ¨æ–­
- Composition API å¤©ç„¶æ”¯æŒ TypeScript

```typescript
// Vue 3 + TypeScript
import { ref, computed } from 'vue'

interface User {
  name: string
  age: number
}

export default {
  setup() {
    const user = ref<User>({ name: 'John', age: 30 })
    const greeting = computed(() => `Hello, ${user.value.name}!`)
    
    return { user, greeting }
  }
}
```

## ğŸ›  å¼€å‘å·¥å…·

### Vue 2
- Vue DevTools 5.x
- Vue CLI

### Vue 3
- Vue DevTools 6.xï¼ˆæ›´å¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½ï¼‰
- Viteï¼ˆæ›´å¿«çš„æ„å»ºå·¥å…·ï¼‰
- Vue CLI 5.xï¼ˆæ”¯æŒ Vue 3ï¼‰

## ğŸ”§ è¿ç§»æ³¨æ„äº‹é¡¹

### ç ´åæ€§å˜åŒ–
1. **å…¨å±€ API å˜åŒ–**: `Vue.xxx` â†’ `app.xxx`
2. **v-model å˜åŒ–**: é»˜è®¤ prop ä» `value` æ”¹ä¸º `modelValue`
3. **äº‹ä»¶ API**: `$on`ã€`$off`ã€`$once` è¢«ç§»é™¤
4. **è¿‡æ»¤å™¨**: Filters è¢«ç§»é™¤ï¼Œå»ºè®®ä½¿ç”¨è®¡ç®—å±æ€§
5. **å†…è”æ¨¡æ¿**: `inline-template` è¢«ç§»é™¤

### å…¼å®¹æ€§
- Vue 3 ä¸å‘åå…¼å®¹ Vue 2
- å¯ä»¥ä½¿ç”¨ `@vue/compat` è¿›è¡Œæ¸è¿›å¼è¿ç§»
- å¤§éƒ¨åˆ† Vue 2 ç”Ÿæ€ç³»ç»Ÿéœ€è¦å‡çº§

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡     | Vue 2 | Vue 3    | æå‡      |
| -------- | ----- | -------- | --------- |
| åŒ…ä½“ç§¯   | ~34KB | ~20KB    | 41% â†“     |
| åˆå§‹æ¸²æŸ“ | åŸºå‡†  | 1.3-2x   | 30-100% â†‘ |
| æ›´æ–°æ€§èƒ½ | åŸºå‡†  | 1.3-6.1x | 30-510% â†‘ |
| å†…å­˜ä½¿ç”¨ | åŸºå‡†  | 54%      | 46% â†“     |

## ğŸ¯ é€‰æ‹©å»ºè®®

### é€‰æ‹© Vue 2 çš„æƒ…å†µ
- ç°æœ‰å¤§å‹é¡¹ç›®ï¼Œè¿ç§»æˆæœ¬é«˜
- ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“å°šæœªæ”¯æŒ Vue 3
- å›¢é˜Ÿå¯¹ Vue 2 æ›´ç†Ÿæ‚‰

### é€‰æ‹© Vue 3 çš„æƒ…å†µ
- æ–°é¡¹ç›®å¼€å‘
- éœ€è¦æ›´å¥½çš„æ€§èƒ½
- éœ€è¦ TypeScript æ”¯æŒ
- æƒ³è¦ä½¿ç”¨æœ€æ–°ç‰¹æ€§

Vue 3 æ˜¯ Vue.js çš„æœªæ¥æ–¹å‘ï¼Œæä¾›äº†æ›´å¥½çš„æ€§èƒ½ã€æ›´å¼ºçš„åŠŸèƒ½å’Œæ›´å¥½çš„å¼€å‘ä½“éªŒã€‚å¯¹äºæ–°é¡¹ç›®ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ Vue 3ã€‚
        
# 